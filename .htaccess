<IfModule mod_headers.c>
  Header set Content-Security-Policy "
    default-src 'self' data: blob:;
    script-src 'self' 'unsafe-inline';
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    font-src 'self' https://fonts.gstatic.com;
    img-src 'self' data: blob:;
    media-src 'self' https://exterafans.github.io;
    connect-src 'self';
    frame-ancestors 'self';
  "
</IfModule>

# Правила для SPA роутинга
<IfModule mod_rewrite.c>
  RewriteEngine On
  
  # Разрешить доступ к реальным файлам и директориям
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  
  # Для SPA efans - перенаправить все запросы на index.html внутри директории efans
  RewriteCond %{REQUEST_URI} ^/efans/
  RewriteRule ^efans/(.*)$ /efans/index.html [L]
</IfModule>
